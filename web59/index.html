<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Habit Tracker</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="data:," />
  </head>
  <body>
    <header class="app-header">
      <h1>âœ… Habit Tracker</h1>

      <div class="month-nav" role="group" aria-label="Month navigation">
        <button id="prevMonthBtn" aria-label="Previous month">â—€</button>
        <div id="monthLabel" aria-live="polite" aria-atomic="true"></div>
        <button id="nextMonthBtn" aria-label="Next month">â–¶</button>
        <button id="todayBtn" class="ghost">Today</button>
      </div>

      <div class="actions">
        <button id="exportBtn" class="ghost" title="Download a backup JSON">
          Export
        </button>
        <label class="import-label ghost" title="Restore from backup JSON">
          Import
          <input
            id="importInput"
            type="file"
            accept="application/json"
            hidden
          />
        </label>
        <button id="clearAllBtn" class="danger ghost" title="Clear all data">
          Reset
        </button>
      </div>
    </header>

    <main class="container">
      <section class="add-habit">
        <form id="addHabitForm" autocomplete="off">
          <label for="habitName">Add habit</label>
          <input
            id="habitName"
            name="habitName"
            type="text"
            placeholder="e.g., Read 20 mins"
            required
            minlength="1"
            maxlength="60"
          />
          <label for="habitColor" class="visually-hidden">Color</label>
          <input
            id="habitColor"
            name="habitColor"
            type="color"
            value="#4f46e5"
          />
          <button type="submit">+ Add</button>
        </form>
      </section>

      <section class="calendar" aria-label="Monthly habit tracker">
        <div class="calendar-head">
          <div class="sticky-col head-cell">Habit</div>
          <div id="weekdayRow" class="weekday-row"></div>
        </div>
        <div
          id="habitList"
          class="habit-list"
          aria-live="polite"
          aria-atomic="false"
        ></div>
      </section>
    </main>

    <footer class="footer">
      <p>
        Tip: Click any day cell to toggle done/undone. Double-click habit name
        to rename.
      </p>
    </footer>

    <template id="habitRowTpl">
      <div class="habit-row" role="row">
        <div class="sticky-col habit-meta">
          <span class="color-dot" aria-hidden="true"></span>
          <span
            class="habit-title"
            contenteditable="false"
            spellcheck="false"
          ></span>
          <div class="meta">
            <span class="streak" title="Current streak">ðŸ”¥ 0</span>
            <div class="progress" title="Completion this month">
              <div class="progress-bar"></div>
            </div>
            <span class="progress-label">0%</span>
          </div>
          <div class="row-actions">
            <button class="renameBtn ghost" title="Rename">âœŽ</button>
            <button class="archiveBtn ghost" title="Archive/Unarchive">
              ðŸ“¦
            </button>
            <button class="deleteBtn danger ghost" title="Delete">ðŸ—‘</button>
          </div>
        </div>
        <div class="day-grid"></div>
      </div>
    </template>

    <script src="script.js" defer></script>
  </body>
</html>
